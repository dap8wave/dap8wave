/* ==== GLOBAL STYLES & COLOR PALETTE (NEW DARK THEME) ==== */
:root {
    --amazon-blue: #131921;
    --amazon-orange: #FF9900;
    --secondary-blue: #232F3E;
    --text-light: #FFFFFF;
    --text-dark: #0F1111;
    --border-color: #4d5f7b; /* Adjusted for visibility */
    --background-light: #FFFFFF;
    --danger-red: #D9534F;
    --danger-red-hover: #C9302C;
    --success-green: #2ECC71;
    --warning-orange: #E67E22;
    --info-blue: #3498DB;
    --row-color-no-show: #5a2a2a;
    --row-color-show: #1c4a2a;
    --row-color-rescue: #2a3a5a;
    /* New colour definitions for drivers with no badge and communication buttons */
    --row-color-no-badge: #5a2241;
    --slack-purple: #4A154B;
    --chime-blue: #0075CC;
}

/* Basic reset and font settings for the whole page */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    height: 100%;
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background-color: var(--secondary-blue);
    background-image: linear-gradient(rgba(35, 47, 62, 0.95), rgba(35, 47, 62, 0.95)), url(https://images.unsplash.com/photo-1587327903256-10515678377c?q=80&w=2070&auto=format&fit=crop);
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    color: var(--text-light);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}


/* ==== LAYOUT CONTAINERS ==== */
.content-wrapper {
    flex: 1 0 auto; /* Allow content to grow and shrink */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2rem;
    width: 100%;
}


/* ==== HEADER & FOOTER ==== */
.site-header {
    padding: 1.5rem;
    text-align: center;
    position: relative;
    width: 100%;
}

.admin-button-link {
    position: absolute;
    top: 1.5rem;
    right: 2rem;
    padding: 0.6rem 1.2rem;
    background-color: #495057;
    color: var(--text-light);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: 8px;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.admin-button-link:hover {
    background-color: #6c757d;
    transform: translateY(-2px);
}

.amazon-logo {
    height: 55px;
    width: auto;
    filter: invert(1) brightness(1.5); /* Make logo white for dark theme */
}

.site-footer {
    padding: 1.5rem;
    text-align: center;
    font-size: 0.9rem;
    color: #a0a0a0;
    width: 100%;
    flex-shrink: 0; /* Prevent footer from shrinking */
}


/* ==== MAIN CONTENT & HOMEPAGE STYLES ==== */
.greeting-section,
.station-selection-section {
    text-align: center;
    margin-bottom: 3rem;
}

.greeting-section h1,
.station-selection-section h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 2.5rem;
    color: var(--text-light);
}

.greeting-section p {
    font-size: 1.2rem;
    color: #cccccc;
}

.country-selector {
    display: flex;
    gap: 2.5rem;
}

.country-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 2rem;
    background-color: rgba(19, 25, 33, 0.7); /* Translucent --amazon-blue */
    border-radius: 12px;
    border: 1px solid var(--border-color);
    text-decoration: none;
    color: var(--text-light);
    width: 200px;
    transition: transform 0.3s ease, border-color 0.3s ease;
}

.country-card:hover {
    transform: translateY(-8px);
    border-color: var(--amazon-orange);
}

.country-card img {
    width: 100px;
    height: auto;
    border: 1px solid var(--border-color);
    border-radius: 4px;
}

.country-card span {
    font-size: 1.25rem;
    font-weight: 600;
}


/* ==== STATION PAGE & MODULES ==== */
.station-page-wrapper {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    background-color: rgba(35, 47, 62, 0.8); /* Translucent --secondary-blue */
    padding: 2rem;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    backdrop-filter: blur(5px);
}

.tab-nav {
    display: flex;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: 2rem;
}

.tab-link {
    padding: 0.8rem 1.5rem;
    text-decoration: none;
    color: #a0a0a0;
    font-weight: 600;
    border-bottom: 3px solid transparent;
    transition: color 0.3s ease, border-color 0.3s ease;
}

.tab-link:hover {
    color: var(--amazon-orange);
}

.tab-link.active {
    color: var(--amazon-orange);
    border-bottom-color: var(--amazon-orange);
}

.tab-pane h3, #admin-content h3 {
    margin-top: 1rem;
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
}

.roster-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background-color: rgba(19, 25, 33, 0.6); /* Translucent --amazon-blue */
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

/* Data Table Styles */
.data-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 1rem;
}

.data-table thead th {
    background-color: var(--amazon-blue);
    font-weight: 600;
}

.data-table th, .data-table td {
    padding: 0.8rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
    vertical-align: middle;
}

.data-table tr.status-checked-in { background-color: var(--row-color-show); }
.data-table tr.status-awaiting { background-color: var(--row-color-no-show); }
.data-table tr.status-on-rescue { background-color: var(--row-color-rescue); }
/* Style for rows representing drivers who checked in without a badge */
.data-table tr.status-no-badge {
    background-color: var(--row-color-no-badge);
}

/* Style for the No Badge action button in the roster */
.btn-no-badge {
    background-color: var(--row-color-no-badge);
    color: var(--text-light);
}

/*
   =================================================
   COMMUNICATION BUTTONS
   =================================================
   The dashboard includes buttons for communicating via Slack or Amazon
   Chime. These styles control the layout and appearance of those
   buttons and their container.
*/
.communication-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
}

/* Base style for any communication button */
.comm-btn {
    padding: 0.5rem 0.8rem;
    font-size: 0.9rem;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    color: var(--text-light);
}

/* Slack button uses the Slack brand colour */
.slack-btn {
    background-color: var(--slack-purple);
}

/* Amazon Chime button uses a brand-themed blue */
.chime-btn {
    background-color: var(--chime-blue);
}

/* Slight opacity change on hover for all comm buttons */
.comm-btn:hover {
    opacity: 0.9;
}


/* Action Buttons */
.action-btn {
    padding: 0.3rem 0.6rem;
    font-size: 0.8rem;
    border-radius: 4px;
    border: none;
    color: var(--text-light);
    cursor: pointer;
}

.btn-edit { background-color: var(--warning-orange); }
.btn-rescue { background-color: var(--info-blue); }
.btn-check-in { background-color: var(--success-green); }
.btn-delete { background-color: var(--danger-red); }

.station-selector { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: center; align-items: center; gap: 1.5rem; max-width: 800px; }
.station-card { display: flex; align-items: center; width: auto; padding: 0.8rem 1.5rem; background-color: var(--amazon-orange); color: var(--text-dark); text-decoration: none; font-size: 1.1rem; font-weight: 600; border-radius: 8px; transition: background-color 0.3s ease, transform 0.3s ease; }
.station-card:hover { background-color: #ffb84d; transform: translateY(-3px); }
.mini-flag { height: 20px; width: auto; margin-right: 12px; border-radius: 2px; }
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); justify-content: center; align-items: center; }
.modal-content { background-color: var(--secondary-blue); color: var(--text-light); padding: 2rem 2.5rem; border-radius: 12px; border: 1px solid var(--border-color); position: relative; width: 100%; max-width: 400px; animation: fadeIn 0.4s ease-out; }
.close-button,
.close-button-missing { color: #aaa; position: absolute; top: 10px; right: 20px; font-size: 28px; font-weight: bold; cursor: pointer; }
.close-button:hover, .close-button:focus,
.close-button-missing:hover, .close-button-missing:focus { color: white; text-decoration: none; }
.modal-content h2 { margin-bottom: 1.5rem; text-align: center; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
.station-title { text-align: center; margin-bottom: 2rem; color: var(--text-light); }
.tab-pane { display: none; animation: contentFadeIn 0.5s; }
.tab-pane.active { display: block; }
@keyframes contentFadeIn { from { opacity: 0; } to { opacity: 1; } }

/* ==== FORMS ==== */
.roster-form h4 { margin-bottom: 1rem; font-size: 1.1rem; }
#da-list-content .roster-form h4 { color: var(--text-light); border-bottom: 2px solid var(--amazon-orange); padding-bottom: 0.5rem; display: inline-block; }
#add-da-form, #caproster-content .add-driver-form { display: flex; flex-direction: column; gap: 1rem; }
.form-field { margin-bottom: 1.2rem; }
.form-field label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #bbb; }
.form-field input, .form-field select { width: 100%; padding: 0.75rem; font-size: 1rem; border-radius: 6px; border: 1px solid var(--border-color); background-color: #3a3f44; color: var(--text-light); transition: border-color 0.2s ease, box-shadow 0.2s ease; }
.form-field input:focus, .form-field select:focus { outline: none; border-color: var(--amazon-orange); box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.2); }
.form-full-width-btn { padding: 0.8rem; font-size: 1rem; font-weight: 600; background-color: var(--amazon-orange); color: var(--text-dark); border: none; border-radius: 6px; cursor: pointer; margin-top: 0.5rem; transition: background-color 0.2s ease; }
.form-full-width-btn:hover { background-color: #ffb84d; }
.roster-form textarea { width: 100%; min-height: 150px; padding: 0.75rem; font-size: 0.9rem; font-family: 'Courier New', Courier, monospace; border-radius: 6px; border: 1px solid var(--border-color); background-color: #3a3f44; color: var(--text-light); transition: border-color 0.2s ease, box-shadow 0.2s ease; resize: vertical; }
.roster-form textarea:focus { outline: none; border-color: var(--amazon-orange); box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.2); }
.file-input { min-height: auto; font-family: 'Poppins', sans-serif; font-size: 0.9rem; padding: 0.5rem; border-radius: 6px; border: 1px solid var(--border-color); background-color: #3a3f44; color: var(--text-light); cursor: pointer; }
.file-input::file-selector-button { font-weight: bold; color: var(--amazon-orange); padding: 0.5em 1em; border: 1px solid var(--amazon-orange); border-radius: 3px; background-color: var(--secondary-blue); cursor: pointer; margin-right: 1rem; transition: background-color 0.2s ease; }
.file-input::file-selector-button:hover { background-color: #343a40; }
.bulk-buttons { display: flex; gap: 0.5rem; margin-top: 1rem; }
.bulk-buttons button { flex-grow: 1; padding: 0.8rem; color: var(--text-light); font-weight: 600; border: none; border-radius: 6px; cursor: pointer; }
.btn-process { background-color: var(--success-green); }
.btn-reset { background-color: #6c757d; }

/* ==== WAVE CHECK & DASHBOARD ==== */
.scanner-area { display: flex; flex-direction: column; align-items: center; gap: 1rem; }
#scanner-output { width: 100%; max-width: 400px; min-height: 250px; padding: 1.5rem; background-color: var(--amazon-blue); border: 2px dashed var(--border-color); border-radius: 8px; text-align: center; transition: border-color 0.3s ease; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.manual-badge-input { width: 100%; max-width: 400px; padding: 0.8rem; font-size: 1rem; border: 1px solid var(--border-color); background-color: var(--secondary-blue); color: var(--text-light); border-radius: 6px; }
.scan-button { width: 100%; max-width: 400px; padding: 0.8rem; background-color: var(--amazon-orange); color: var(--text-dark); font-weight: 700; border: none; border-radius: 6px; font-size: 1.1rem; cursor: pointer; }
#scanner-output .status-heading { font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; }
#scanner-output .status-success { color: var(--success-green); }
#scanner-output .status-error { color: var(--danger-red); }
#scanner-output .status-info { color: var(--info-blue); }
#scanner-output .scan-details { text-align: left; display: inline-block; margin-top: 1rem; line-height: 1.9; font-size: 1.1rem; }
#scanner-output .scan-details strong { display: inline-block; width: 140px; color: #a0a0a0; font-weight: 600; }
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
.stat-card { background-color: var(--secondary-blue); padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px solid var(--border-color); }
.stat-card h4 { margin-bottom: 0.5rem; font-size: 1rem; color: #aaa; }
.stat-card p { font-size: 2.5rem; font-weight: 700; color: var(--amazon-orange); }
.progress-bar-container { width: 100%; background-color: #343a40; border-radius: 8px; margin-bottom: 2rem; }
.progress-bar { height: 30px; line-height: 30px; text-align: center; background-color: var(--success-green); color: var(--text-light); font-weight: bold; border-radius: 8px; }
.company-stats h4 { font-size: 1.2rem; margin-bottom: 1rem; }
.company-card { display: flex; justify-content: space-between; align-items: center; padding: 1rem; background-color: var(--secondary-blue); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 0.75rem; }
.company-name { font-weight: 600; }
.company-ratio { font-size: 1.1rem; }
.missing-btn { padding: 0.4rem 0.8rem; background-color: var(--danger-red); color: white; border: none; border-radius: 6px; font-size: 0.8rem; cursor: pointer; }
#missing-drivers-list { list-style: none; padding: 0; margin-top: 1rem; max-height: 300px; overflow-y: auto; }
#missing-drivers-list li { padding: 0.75rem 0.5rem; border-bottom: 1px solid var(--border-color); font-size: 1rem; }
#missing-drivers-list li:last-child { border-bottom: none; }

/*
   =================================================
   WAVE STATS AND DASHBOARD EXTRAS
   =================================================
   Styles for the new wave statistics container and
   for resizing the Drivers by Company menu on the
   dashboard. The dashboard-extras container uses
   flexbox to place the company stats and wave stats
   side by side. The wave stats box includes buttons
   for each wave and a list of missing drivers in
   the selected wave.
*/
.dashboard-extras {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 2rem;
}
.dashboard-extras .company-stats {
    flex: 2;
}
.dashboard-extras .wave-stats {
    flex: 1;
    background-color: var(--secondary-blue);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem;
}
.wave-stats h4 {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    color: #aaa;
}
.wave-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
}
.wave-btn {
    padding: 0.4rem 0.8rem;
    background-color: var(--secondary-blue);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    color: var(--text-light);
}
.wave-btn.active {
    background-color: var(--amazon-orange);
    color: var(--text-dark);
}
.wave-missing-list {
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 200px;
    overflow-y: auto;
}
.wave-missing-list li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--border-color);
    font-size: 0.9rem;
}

/*
   =================================================
   LOGIN MODALS & METHODS
   =================================================
   The following styles define the appearance of the employee and admin
   login modals introduced on the homepage and admin dashboard. Login
   methods are presented as cards with icons allowing users to choose
   between email/password or badge scanning. A simple scanning
   animation is provided for badge-based logins. These components
   follow the same dark theme and colour palette used throughout the
   site for a cohesive look.
*/

/* Hide the legacy admin modal on station pages */
#adminModal {
    display: none !important;
}

/* Container for the two login method cards */
.login-methods {
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 1.5rem;
    flex-wrap: wrap;
    margin-top: 1rem;
    width: 100%;
}

/* Individual login method card */
.login-card {
    flex: 1 1 200px;
    max-width: 250px;
    background-color: rgba(19, 25, 33, 0.7);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    cursor: pointer;
    transition: transform 0.3s ease, border-color 0.3s ease;
}
.login-card:hover {
    transform: translateY(-5px);
    border-color: var(--amazon-orange);
}
.login-card svg {
    width: 50px;
    height: 50px;
    margin-bottom: 1rem;
    fill: var(--amazon-orange);
}
.login-card h3 {
    font-size: 1.2rem;
    color: var(--text-light);
    font-weight: 600;
}

/* Custom icon for login cards (used for email/password) */
.login-card-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    margin-bottom: 1rem;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--amazon-orange);
    background-color: rgba(19, 25, 33, 0.8);
    border-radius: 8px;
}

/* Container for scanning animation with a stylised card behind */
.scanner-frame {
    position: relative;
    width: 220px;
    height: 220px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
}
.badge-card {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: linear-gradient(135deg, #1f2e47, #243b6a);
    border: 2px solid var(--border-color);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    z-index: 0;
}
/* Adjust scanning animation inside the frame */
.scanner-frame .scan-animation {
    position: absolute;
    width: 180px;
    height: 140px;
    border-radius: 8px;
    border: 2px dashed var(--border-color);
    overflow: hidden;
    z-index: 1;
}
.scanner-frame .scan-animation::before {
    content: '';
    position: absolute;
    left: 0;
    width: 100%;
    height: 4px;
    background-color: var(--amazon-orange);
    animation: scanMove 2s linear infinite;
}

/* Scanning animation for badge login */
.scan-animation {
    width: 200px;
    height: 200px;
    border: 2px dashed var(--border-color);
    border-radius: 8px;
    position: relative;
    overflow: hidden;
    margin-bottom: 1rem;
}
.scan-animation::before {
    content: '';
    position: absolute;
    left: 0;
    width: 100%;
    height: 4px;
    background-color: var(--amazon-orange);
    animation: scanMove 2s linear infinite;
}
@keyframes scanMove {
    0% { top: 0; }
    100% { top: calc(100% - 4px); }
}

/*
   =================================================
   ADMIN PAGE STYLES
   =================================================
*/
.admin-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2.5rem;
    width: 100%;
}
.form-container, .user-list-container {
    padding: 1.5rem;
    background-color: rgba(19, 25, 33, 0.6);
    border: 1px solid var(--border-color);
    border-radius: 8px;
}
.admin-login-container {
    width: 100%;
    max-width: 450px;
}
.admin-login-container button {
    width: 100%;
    padding: 0.8rem;
    font-size: 1.1rem;
    font-weight: 700;
    background-color: var(--amazon-orange);
    color: var(--text-dark);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.admin-login-container button:hover {
    background-color: #ffb84d;
}
.login-error-message {
    color: var(--danger-red);
    text-align: center;
    margin-top: 1rem;
    font-weight: 600;
}
/* UPDATED: Modern styles for Accessible Stations checklist */
#station-checklist {
    max-height: 200px;
    overflow-y: auto;
    padding: 0.5rem;
    background-color: #3a3f44;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
}
.station-checkbox {
    position: relative;
}
.station-checkbox input[type="checkbox"] {
    opacity: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    cursor: pointer;
}
.station-checkbox label {
    display: block;
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
    text-align: center;
    font-weight: 500;
    cursor: pointer;
    background-color: var(--secondary-blue);
    border: 1px solid var(--border-color);
    transition: all 0.2s ease-in-out;
}
.station-checkbox input[type="checkbox"]:checked + label {
    background-color: var(--amazon-orange);
    color: var(--text-dark);
    font-weight: 700;
    border-color: var(--amazon-orange);
}
.station-checkbox label:hover {
    border-color: #a0a0a0;
}


/* RESPONSIVE */
@media (max-width: 992px) { 
    .roster-actions { grid-template-columns: 1fr; } 
    .admin-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) { .content-wrapper { padding: 1rem; } .station-page-wrapper { padding: 1rem; } .admin-button-link { top: 1rem; right: 1rem; } .tab-nav { font-size: 0.8rem; flex-wrap: wrap; } .tab-link { padding: 0.8rem 0.5rem; } }